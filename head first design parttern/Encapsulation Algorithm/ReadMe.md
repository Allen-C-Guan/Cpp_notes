# 封装算法
## 模板方法模式
### 定义
模板方法模式在一个方法中定义一个算法骨架，而将一些步骤延迟到子类中。模板方法使得子类可以在不改变算法结构的情况下，重新定义算法中的某些步骤。

### 分析
该定义强调了如下几点：
1. 父类要决定算法骨架。
2. 子类可以决定某些步骤实现的细节。

因此该设计模式利用超类封装了算法架构，而子类只能决定细节，父类严格把控和保护算法框架。

同时超类更专注在算法本身，而子类更专注于自己可以把控的步骤的实现细节。而不去关心算法框架。

## 钩子
### 定义
钩子是一种被声明在抽象类中的方法，但只有空的或者默认的实现。钩子的存在可以让子类有能力对算法的不同点进行挂钩。要不要挂钩，由子类自行决定。

### 作用
钩子是一种可以通过子类来**影响超类算法流程**的方法！钩子的存在使得子类有能力为抽象类作一些决定。

因此当子类可以实现也可以不实现的步骤，就可以使用钩子。某些步骤是可选的，就可以实现为钩子。

## 好莱坞原则
**don't call us， we will call you!**

### 分析
该原则，我们允许低层组件将自己挂接到系统上，但是高层组件会决定什么时候，和怎样使用这些低层组件。

高层组件对待低层组件的方式为：**别调用我们，我们会调用你**

### 作用
为了防止高低组件之间互相调用，循环依赖。

## 与策略模式的区别
1. 策略模式可以决定算法的全部，而算法模板只能决定算法大纲。
2. 算法模板对算法有更多的控制权。
3. 策略模式通过组合的方式实现，而算法模板通过继承，因此策略模式更加灵活。模板函数的依赖程度更高。




